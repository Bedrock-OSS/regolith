import{_ as s,c as n,o as a,a as o}from"./app.1d293fe1.js";const u=JSON.parse('{"title":"Create a Filter","description":"","frontmatter":{"title":"Create a Filter"},"headers":[{"level":2,"title":"Installing Python","slug":"installing-python","link":"#installing-python","children":[]},{"level":2,"title":"Getting Started","slug":"getting-started","link":"#getting-started","children":[{"level":3,"title":"Testing your Filter","slug":"testing-your-filter","link":"#testing-your-filter","children":[]}]},{"level":2,"title":"Understanding Regolith","slug":"understanding-regolith","link":"#understanding-regolith","children":[]},{"level":2,"title":"Filter Goal","slug":"filter-goal","link":"#filter-goal","children":[]}],"relativePath":"guide/create-a-filter.md","lastUpdated":1724328020000}'),l={name:"guide/create-a-filter.md"},e=o(`<h1 id="create-a-filter" tabindex="-1">Create a Filter <a class="header-anchor" href="#create-a-filter" aria-hidden="true">#</a></h1><p>This step-by-step tutorial will guide you through the creation of your first Regolith filter, in the Python programming language. If you&#39;re new to Regolith, you may enjoy trying out some of our <a href="/regolith/standard-library">standard filters</a> first.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This page is an in-depth tutorial for Regolith filter creation, including detailed information about data-flow and semantics. If you just want to get started programming, you may consider checking out the documentation on <a href="/regolith/guide/custom-filters">custom filters.</a></p></div><h2 id="installing-python" tabindex="-1">Installing Python <a class="header-anchor" href="#installing-python" aria-hidden="true">#</a></h2><p>Before you can begin, you need to ensure that Python is installed on your system. There are <a href="/regolith/guide/python-filters">download instructions</a> on our Python Filter page.</p><h2 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-hidden="true">#</a></h2><p>If you don&#39;t have one yet, you should create a new Regolith project by navigating to a blank folder, and typing <code>regolith init</code>.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>During this tutorial, <code>project</code> refers to the project folder you just created!</p></div><p>The first step is creating a new python file in <code>project/filters/giant_mobs.py</code>. Our first step will be simply printing <code>hello world!</code>, so add <code>print(&quot;hello world!&quot;)</code> into your new filter file.</p><p>You can also create a small addon in <code>RP</code> and <code>BP</code>. For this tutorial, you need at least a working <code>manifest.json</code>, and a single working behavior entity, such as one copied from the vanilla files.</p><h3 id="testing-your-filter" tabindex="-1">Testing your Filter <a class="header-anchor" href="#testing-your-filter" aria-hidden="true">#</a></h3><p>At this point, you need to edit your <code>config.json</code> so that <code>giant_mobs</code> is registered as a local filter. Your config should look something like this:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Giant Mobs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Your Name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">packs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">behaviorPack</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./packs/BP</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">resourcePack</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./packs/RP</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">regolith</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">profiles</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">default</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">filters</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#916B53;">filter</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">giant_mobs</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">],</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">export</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#916B53;">target</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">development</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#916B53;">build</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">standard</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#916B53;">readOnly</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">filterDefinitions</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F78C6C;">giant_mobs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">runWith</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">python</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./filters/big_mobs.py</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">dataPath</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./packs/data</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>You can now run <code>regolith run default</code>. If everything went well, you should be able to navigate into Minecraft, and create a new world with your RP and BP added. Every time you want to test, re-run <code>regolith run default</code>. The &quot;default&quot; profile is special, so you can run it without specifying a profile name (<code>regolith run</code>).</p><h2 id="understanding-regolith" tabindex="-1">Understanding Regolith <a class="header-anchor" href="#understanding-regolith" aria-hidden="true">#</a></h2><p>Regolith projects are structured such that every filter will be run inside of a temporary folder, with all addon and configuration files available. You should <em>destructively edit these files in-place</em>! The files will be copied and moved around for you.</p><p>The general structure will look like:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">tmp folder</span></span>
<span class="line"><span style="color:#A6ACCD;"> - RP</span></span>
<span class="line"><span style="color:#A6ACCD;">   - manifest.json</span></span>
<span class="line"><span style="color:#A6ACCD;">   - ... other files</span></span>
<span class="line"><span style="color:#A6ACCD;"> - BP</span></span>
<span class="line"><span style="color:#A6ACCD;">   - manifest.json</span></span>
<span class="line"><span style="color:#A6ACCD;">   - ... other files</span></span>
<span class="line"><span style="color:#A6ACCD;"> - data</span></span>
<span class="line"><span style="color:#A6ACCD;">   - giant_mobs</span></span>
<span class="line"><span style="color:#A6ACCD;">     - ... some config files</span></span>
<span class="line"><span style="color:#A6ACCD;"> - giant_mobs.py</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>So for our cases, that means that we can access <code>RP</code> and <code>BP</code> folder to edit the addon files within.</p><h2 id="filter-goal" tabindex="-1">Filter Goal <a class="header-anchor" href="#filter-goal" aria-hidden="true">#</a></h2><p>In this filter, we are going to &quot;filter&quot; every entity in the project, and double it&#39;s size! We do this by reading every entity file, searching for the &quot;scale&quot; component, and editing it.</p><p>To get started, you should structure your python file a bit better:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">def</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">():</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">put code here!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span></code></pre></div>`,23),t=[e];function p(r,c,i,D,y,F){return a(),n("div",null,t)}const C=s(l,[["render",p]]);export{u as __pageData,C as default};
