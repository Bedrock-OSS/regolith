import{_ as s,c as a,o,a as e}from"./app.7ea332e9.js";const h=JSON.parse('{"title":"Data Folder","description":"","frontmatter":{"title":"Data Folder"},"headers":[{"level":2,"title":"Location","slug":"location","link":"#location","children":[]},{"level":2,"title":"Remote Filter Installation","slug":"remote-filter-installation","link":"#remote-filter-installation","children":[]},{"level":2,"title":"Accessing the Data Folder","slug":"accessing-the-data-folder","link":"#accessing-the-data-folder","children":[]},{"level":2,"title":"Saving Data","slug":"saving-data","link":"#saving-data","children":[]}],"relativePath":"guide/data-folder.md","lastUpdated":1733061493000}'),n={name:"guide/data-folder.md"},l=e(`<h1 id="data-folder" tabindex="-1">Data Folder <a class="header-anchor" href="#data-folder" aria-hidden="true">#</a></h1><p>The Regolith <code>data</code> folder is a special folder where configuration files can be stored.</p><h2 id="location" tabindex="-1">Location <a class="header-anchor" href="#location" aria-hidden="true">#</a></h2><p>By default, the data folder is stored in <code>./packs/data</code>. This folder will be created for you when you run <code>regolith init</code>.</p><p>If you would like to change the data folder location, you may do so by editing <code>&quot;dataPath&quot;: &quot;./packs/data&quot;</code>. Please be aware you will need to create the folder yourself!</p><h2 id="remote-filter-installation" tabindex="-1">Remote Filter Installation <a class="header-anchor" href="#remote-filter-installation" aria-hidden="true">#</a></h2><p>When a remote filter is installed, it has the opportunity to place some files into your data folder.</p><p>If the remote filter repository contains a <code>data</code> folder, at the same level as <code>filter.json</code>, the contents will be moved into <code>data/filter_name/*</code>. This is our supported &quot;first time setup&quot; flow. If you&#39;re developing a remote filter, you are encouraged to use the data folder, and create configuration files with sensible defaults.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Don&#39;t worry! Your data won&#39;t be lost. <code>regolith install</code> will never overwrite your data files. If the folder is already in use during installation, a warning will be logged and the step will be skipped.</p></div><h2 id="accessing-the-data-folder" tabindex="-1">Accessing the Data Folder <a class="header-anchor" href="#accessing-the-data-folder" aria-hidden="true">#</a></h2><p>When Regolith runs, it will move the <code>data</code> folder into the <code>tmp</code> directory, along with the <code>RP</code> and <code>BP</code> folders. You can access the files here directly, just as you do the pack files.</p><p>For example:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./data/bump_manifest/version.json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">r</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> f</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">print</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">load</span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">f</span><span style="color:#89DDFF;">))</span></span>
<span class="line"></span></code></pre></div><h2 id="saving-data" tabindex="-1">Saving Data <a class="header-anchor" href="#saving-data" aria-hidden="true">#</a></h2><p>To save data, you will need to add <code>&quot;exportData&quot;: true,</code> to your <code>filter.json</code> definition. This is opt-in, to avoid slow copying of large data folders.</p><p>When regolith is finished running, data folders marked with <code>exportData</code> will be moved from the temporary location, back into the normal location. This flow allows you to store persistent data, by editing or creating new files.</p><p>For example if your filter is called <code>hello_world</code>, with <code>exportData</code> set to true, then you would be expected to store data into <code>data/hello_world/*</code>.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>This stands in contrast to the <code>RP</code> and <code>BP</code> folders, which will not be saved back into the project!</p></div><p>For example:</p><p>filter.json</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">description</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">An example of using export data</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">exportData</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">true,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">filters</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">runWith</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">python</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">script</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./main.py</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">bump_manifest</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>filter</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./data/bump_manifest/version.json</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">w</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">as</span><span style="color:#A6ACCD;"> f</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  json</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">dump</span><span style="color:#89DDFF;">({</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">version</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1.0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">},</span><span style="color:#82AAFF;"> f</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div>`,23),t=[l];function p(r,c,i,d,D,F){return o(),a("div",null,t)}const u=s(n,[["render",p]]);export{h as __pageData,u as default};
