import{_ as e,c as n,o as t,a as s}from"./app.d32a1d89.js";const l="/regolith/installing/python.png",f=JSON.parse('{"title":"Python Filters","description":"","frontmatter":{"title":"Python Filters"},"headers":[{"level":2,"title":"Installing Python","slug":"installing-python","link":"#installing-python","children":[]},{"level":2,"title":"Running Python code as Filter","slug":"running-python-code-as-filter","link":"#running-python-code-as-filter","children":[]},{"level":2,"title":"Requirements and Dependencies","slug":"requirements-and-dependencies","link":"#requirements-and-dependencies","children":[]},{"level":2,"title":"Venv Handling","slug":"venv-handling","link":"#venv-handling","children":[]}],"relativePath":"guide/python-filters.md","lastUpdated":1670099372000}'),a={name:"guide/python-filters.md"},o=s('<h1 id="python-filters" tabindex="-1">Python Filters <a class="header-anchor" href="#python-filters" aria-hidden="true">#</a></h1><p>Python is an interpreted high-level general-purpose programming language.</p><h2 id="installing-python" tabindex="-1">Installing Python <a class="header-anchor" href="#installing-python" aria-hidden="true">#</a></h2><p>Before you can run Python filters, you will need to <a href="https://www.python.org/downloads/" target="_blank" rel="noreferrer">install python</a>.</p><p>Please ensure that you add python to your path:</p><p><img src="'+l+`" alt=""></p><p>We recommend that you download more or less recent versions of Python.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>It&#39;s generally not acceptable to install python via the Microsoft Store. Python installed from here is not available on the path. If you have trouble running Python filters with Regolith, please reinstall using the link above.</p></div><h2 id="running-python-code-as-filter" tabindex="-1">Running Python code as Filter <a class="header-anchor" href="#running-python-code-as-filter" aria-hidden="true">#</a></h2><p>The syntax for running a python script is this:</p><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">runWith</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">python</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">script</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./filters/example.py</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">// Optional property that defines the path to the file with the requirements</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">requirements</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./filters/requirements.txt</span></span>
<span class="line"><span style="color:#C3E88D;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="requirements-and-dependencies" tabindex="-1">Requirements and Dependencies <a class="header-anchor" href="#requirements-and-dependencies" aria-hidden="true">#</a></h2><p>When installing, Regolith will check if the filter has any requirements. If the &quot;requirements&quot; property is set, Regolith will use the file specified in the property to install the dependencies. If the property is not set, Regolith will look for a file named &quot;requirements.txt&quot; in the same directory as the script. If requirements file exits, Regolith will attempt to install these dependencies into a venv, as described below.</p><p>When developing a Python filter with dependencies, you must create this file. You can create a <code>requirements.txt</code> file yourself by using <code>pip freeze</code>.</p><h2 id="venv-handling" tabindex="-1">Venv Handling <a class="header-anchor" href="#venv-handling" aria-hidden="true">#</a></h2><p><a href="https://docs.python.org/3/library/venv.html" target="_blank" rel="noreferrer">Python Venvs</a> are flexible, lightweight &quot;virtual environments&quot;.</p><p>Regolith uses venvs to install dependencies, since it will prevent your global installation space from becoming polluted. When you install a python filter with dependencies, they will be installed into a venv, stored in <code>.regolith/cache/venvs/</code>.</p><p>By default, all filters will share a single venv.</p><p>In case of collision, you may use <code>&quot;venvSlot&quot;: &lt;int&gt;</code> property in the filter, to claim a unique venv id. You will need to reinstall the filter.</p>`,19),i=[o];function r(p,c,h,d,y,u){return t(),n("div",null,i)}const D=e(a,[["render",r]]);export{f as __pageData,D as default};
